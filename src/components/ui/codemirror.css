/* CodeMirror theme integration following Vercel's approach */

/* Background and basic styling - adapts to design system */
.codemirror-container .cm-editor,
.codemirror-container .cm-gutters {
  background: hsl(var(--background)) !important;
  outline: none !important;
}

@media (prefers-color-scheme: dark) {
  .codemirror-container .cm-editor,
  .codemirror-container .cm-gutters {
    background: hsl(var(--muted)) !important;
  }
}

/* Selection styling that adapts to theme */
.codemirror-container .cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground,
.codemirror-container .cm-selectionBackground,
.codemirror-container .cm-content::selection {
  background: hsl(var(--accent)) !important;
}

/* Active line styling */
.codemirror-container .cm-activeLine,
.codemirror-container .cm-activeLineGutter {
  background: transparent !important;
}

.codemirror-container .cm-activeLine {
  border-radius: 0 0.125rem 0.125rem 0 !important;
}

/* Gutter styling */
.codemirror-container .cm-lineNumbers {
  min-width: 1.75rem;
}

.codemirror-container .cm-foldGutter {
  min-width: 0.75rem;
}

.codemirror-container .cm-lineNumbers .cm-activeLineGutter {
  border-radius: 0.125rem 0 0 0.125rem !important;
}

/* Better scrollbar integration */
.codemirror-container .cm-scroller::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.codemirror-container .cm-scroller::-webkit-scrollbar-track {
  background: transparent;
}

.codemirror-container .cm-scroller::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 4px;
}

.codemirror-container .cm-scroller::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}